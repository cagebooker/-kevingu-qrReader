"use strict";var e=require("react");require("react-svg"),require("react-qr-scanner");var t=require("use-sound");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("react-bootstrap/Spinner");var a=r(e),s=r(t);const n=e.memo((t=>{const[r,n]=e.useState("normal"),[u,o]=e.useState(""),[c,i]=e.useState(1),[l,S]=e.useState(!1),[m]=s.default(process.env.PUBLIC_URL+"/assets/music/entryScan-success.mp3"),[d]=s.default(process.env.PUBLIC_URL+"/assets/music/entryScan-error.mp3"),g=()=>{const e=new Date;e.setUTCHours(e.getUTCHours()+8);return`${e.getUTCFullYear()}/${(e.getUTCMonth()+1).toString().padStart(2,"0")}/${e.getUTCDate().toString().padStart(2,"0")} ${e.getUTCHours().toString().padStart(2,"0")}:${e.getUTCMinutes().toString().padStart(2,"0")}:${e.getUTCSeconds().toString().padStart(2,"0")}`};return e.useCallback((async e=>{if(e){if("normal"!==r)return;n("wait");const t={serialNumber:c<10?`0${c}`:c,code:e.text,time:g()};o([t,...u]),i(c>=99?1:c+1),S(!0)}}),[r,u,c,n]),e.useCallback((e=>{e&&console.log(e)}),[]),e.useEffect((()=>{l&&(t.data(u),n("wait"),S(!1))}),[r,l,t,u,S,n]),e.useEffect((()=>{const e=(e,r)=>{n(e),r&&r(),"normal"!==e&&"wait"!==e&&setTimeout((()=>{n("normal"),t.setStatus("normal")}),3e3)};switch(t.status){case"normal":n("normal");break;case"wait":e("wait",null);break;case"success":e("success",m);break;case"warning":e("warning",d);break;default:e("error",d)}}),[t,m,d]),a.default.createElement("div",null,"測試用")}));module.exports=n;
//# sourceMappingURL=index.min.js.map
